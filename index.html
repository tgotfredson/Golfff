<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Golf Tournament</title>
  <style>
    body {
      font-family: 'Verdana', sans-serif;
      background-color: #e0f8d8;
      margin: 0;
      padding: 0;
    }

    h1, h2 {
      text-align: center;
      color: #1e5128; /* Dark golf-course green */
      font-family: 'Comic Sans MS', cursive;
      text-shadow: 2px 2px 4px #5c8a49;
    }

    input, button {
      padding: 10px;
      width: 300px;
      margin: 10px auto;
      display: block;
      font-size: 16px;
      border: 2px solid #1e5128; /* Green border */
      background-color: #b6edc8;
      border-radius: 8px;
    }

    button {
      background-color: #1e5128;
      color: white;
      cursor: pointer;
      transition: transform 0.2s;
    }

    button:hover {
      background-color: #417d3e;
      transform: scale(1.05);
    }

    table {
      width: 80%;
      margin: 20px auto;
      border-collapse: collapse;
      background-color: #e6ffea;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
    }

    th, td {
      padding: 15px;
      border: 1px solid #1e5128;
      text-align: center;
      font-size: 16px;
    }

    th {
      background-color: #1e5128;
      color: white;
      text-shadow: 1px 1px 2px #5c8a49;
    }

    td {
      background-color: #f9f9f9;
    }

    #course-results div {
      background-color: #b6edc8;
      border: 1px solid #1e5128;
      margin: 5px;
      padding: 10px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    #course-results div:hover {
      background-color: #8fd3a3;
    }
  </style>
  <script>
    // Local leaderboard data
    let leaderboard = [];

    let courses = {
      "Torrey Pines North": { par: 72, difficulty: 74.0 },
      "Torrey Pines South": { par: 72, difficulty: 77.8 },
      "Balboa Park Golf Course": { par: 72, difficulty: 71.4 },
      "Coronado Municipal Golf Course": { par: 72, difficulty: 72.0 },
      "Mission Bay Golf Course": { par: 58, difficulty: 57.5 },
      "Admiral Baker North Course": { par: 72, difficulty: 73.2 },
      "Admiral Baker South Course": { par: 72, difficulty: 71.4 },
      "Riverwalk Golf Club": { par: 72, difficulty: 71.8 },
      "Maderas Golf Club": { par: 72, difficulty: 75.1 }
      // More courses can be added
    };

    function searchCourse() {
      let input = document.getElementById('course-input').value.toLowerCase();
      let resultList = document.getElementById('course-results');
      resultList.innerHTML = ''; // Clear previous results

      // If input is empty, return
      if (input === '') {
        return;
      }

      for (let course in courses) {
        if (course.toLowerCase().includes(input)) {
          let option = document.createElement('div');
          option.innerText = course;

          option.onclick = function() {
            document.getElementById('course-input').value = course;
            document.getElementById('difficulty').value = courses[course].difficulty;
            resultList.innerHTML = ''; // Clear the results after selecting
          };

          resultList.appendChild(option);
        }
      }

      if (resultList.innerHTML === '') {
        resultList.innerHTML = '<div>No courses found</div>';
      }
    }

    function submitScore() {
      let username = document.getElementById('username-input').value;
      let course = document.getElementById('course-input').value;
      let score = parseFloat(document.getElementById('score-input').value);
      let handicap = parseFloat(document.getElementById('handicap-input').value);
      let difficulty = parseFloat(document.getElementById('difficulty').value);

      if (!username || !course || isNaN(score) || isNaN(handicap) || isNaN(difficulty)) {
        alert("Please fill in all fields.");
        return;
      }

      let weightedScore = (score - handicap) * (113 / difficulty);

      // Add the new score to the leaderboard
      leaderboard.push({ username, course, score, handicap, difficulty, weightedScore });
      displayLeaderboard();
    }

    function displayLeaderboard() {
      let table = document.getElementById('leaderboard');
      table.innerHTML = '<tr><th>Username</th><th>Course</th><th>Score</th><th>Handicap</th><th>Difficulty</th><th>Weighted Score</th></tr>';
      
      leaderboard.forEach(entry => {
        let row = table.insertRow();
        row.innerHTML = `<td>${entry.username}</td><td>${entry.course}</td><td>${entry.score}</td><td>${entry.handicap}</td><td>${entry.difficulty}</td><td>${entry.weightedScore.toFixed(2)}</td>`;
      });
    }
  </script>
</head>
<body>
  <h1>Golf Tournament Score Entry</h1>

  <label for="username-input">Username:</label>
  <input type="text" id="username-input" placeholder="Enter Username" required>

  <label for="course-input">Golf Course:</label>
  <input type="text" id="course-input" oninput="searchCourse()">
  <div id="course-results"></div>

  <label for="score-input">Your Score:</label>
  <input type="number" id="score-input">

  <label for="handicap-input">Your Handicap:</label>
  <input type="number" id="handicap-input">

  <label for="difficulty">Course Difficulty Index:</label>
  <input type="number" id="difficulty" readonly>

  <button onclick="submitScore()">Submit Score</button>

  <h2>Leaderboard</h2>
  <table id="leaderboard"></table>

</body>
</html>
